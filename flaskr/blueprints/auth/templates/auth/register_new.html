{% extends "layouts/base-fullscreen.html" %}

{% block title %} Register {% endblock %} 

<!-- Element injected in the BODY element -->
{% block body_class %} register-page {% endblock body_class %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}

  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="{{url_for('static', filename='assets/plugins/fontawesome-free/css/all.min.css')}}">
  <!-- icheck bootstrap -->
  <link rel="stylesheet" href="{{url_for('static', filename='assets/plugins/icheck-bootstrap/icheck-bootstrap.min.css')}}">
  <!-- Theme style -->
  <link rel="stylesheet" href="{{url_for('static', filename='assets/css/adminlte.min.css')}}">

{% endblock stylesheets %}

{% block content %}

  <div class="register-box">

    <div class="login-logo">
        <a target="_blank" rel="noopener noreferrer" 
           href="https://appseed.us/product/adminlte/flask/"><b>Admin</b>LTE Flask</a>
    </div>    
    <div class="card">
      <div class="card-body register-card-body">
        <p class="login-box-msg">
            {% if msg %}
                {% if error %}
                    <span class="text-danger">User {{ msg | safe }}</span>
                {% else %}
                    <span class="text-success">{{ msg | safe }}</span>
              {% endif %}
            {% else %}
            <span>
                Add your credentials
            </span>
            {% endif %}  

            {% if form.errors %}
                {% for field, error_list in form.errors.items() %}
                    {% for error in error_list %}
                    <br><span class="text-danger">{{ error }}</h5>
                    {% endfor %}
                {% endfor %}
            {% endif %}
        </p>

        <form role="form" method="post" action="">
         
          {% for field in form %}
              {% if field.id != 'submit' %}
                  {% if field.name != 'image' %}
                      <div class="input-group mb-3">
                          {% if field.name == 'active' %}
                              <div class="custom-control custom-checkbox">
                                  {{ field(class="custom-control-input") }}
                                  <label class="custom-control-label" for="{{ field.id }}">{{ field.label.text }}</label>
                              </div>
                          {% else %}
                              {{ field }}
                              <!-- this if is to remove a strange closing div, if someone understand why fix it :) -->
                              <!-- {% if field.id not in ['csrf_token', 'active_create'] %} -->
                                  <div class="input-group-append">
                                      <div class="input-group-text">
                                          <span class=""></span>
                                      </div>
                                  </div>
                              <!-- {% endif %} -->
                          {% endif %}
                      </div>
                  {% endif %}
              {% else %}
                  <div class="row">
                      <div class="col-8">
                      </div>
                      <div class="col-4">
                          {{ field }}
                      </div>
                  </div>
              {% endif %}
          {% endfor %}
      </form>
      
      
     

        <br />
        <div class="text-center">
            Have an account? <a href="{{ url_for('auth.login') }}" class="text-center">Login</a>
            <br />
            <br />
            &copy; ColorLib 
            <a target="_blank" rel="noopener noreferrer"
               href="https://appseed.us/product/adminlte/flask/"><b>Admin</b>LTE</a> 
            - coded by <a target="_blank" rel="noopener noreferrer" href="https://appseed.us">AppSeed</a>.
        </div>

      </div>
      <!-- /.form-box -->
    </div><!-- /.card -->
  </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

  <!-- jQuery -->
  <script src="/static/assets/plugins/jquery/jquery.min.js"></script>
  <!-- Bootstrap 4 -->
  <script src="/static/assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>

{% endblock javascripts %}

